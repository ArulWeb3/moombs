# Cursor Rules for Moombs Project - Odoo 18 Enterprise Edition Standards

## Python Model Development
glob: **/models/**/*.py
description: Odoo 18 EE model development standards and best practices
rules:
  - Use proper class inheritance:
    - models.Model for regular models
    - models.TransientModel for wizards
    - models.AbstractModel for mixins
  - Field definitions:
    - Use new-style fields (fields.Char, not char)
    - Define compute methods with @api.depends
    - Use store=True for frequently accessed computed fields
    - Define proper ondelete for Many2one fields
    - Use currency_field for Monetary fields
    - Set proper string, help attributes
    - Use groups attribute for field-level access control
  - Method decorators:
    - @api.model for static methods
    - @api.model_create_multi for batch creation
    - @api.depends for computed fields
    - @api.depends_context for context-dependent computations
    - @api.onchange for UI feedback
    - @api.constrains for validation
    - @api.returns for method return type hints
  - Performance optimization:
    - Use prefetch_fields for batch operations
    - Implement proper search methods
    - Use sudo() carefully and document its usage
    - Implement pagination for large datasets
  - Security:
    - Define proper ir.model.access records
    - Implement record rules using ir.rule
    - Use proper sudo() context management
    - Implement proper multi-company rules
  - Data handling:
    - Use proper ORM methods (create, write, unlink)
    - Avoid direct SQL unless absolutely necessary
    - Handle recordsets properly
    - Implement proper error handling
  - Code organization:
    - Group related models in same file
    - Use proper imports
    - Define constants at module level
    - Use proper naming conventions

## OWL Component Development
glob: **/*.js
description: Odoo 18 EE OWL component development standards
rules:
  - Component structure:
    - Use proper class inheritance
    - Define static template property
    - Use proper lifecycle hooks
    - Define props using static props property
    - Use proper state management
  - Template syntax:
    - Use t-name for template names
    - Use proper event binding (t-on)
    - Use t-ref for DOM references
    - Use proper conditional rendering (t-if)
    - Use t-foreach for list rendering
    - Use t-slot for content distribution
  - State management:
    - Use useState for reactive state
    - Use useRef for DOM references
    - Use useSubEnv for environment injection
    - Use proper props validation
  - Component communication:
    - Use proper event handling
    - Implement proper parent-child communication
    - Use services for cross-component communication
  - Performance:
    - Use proper key attributes in lists
    - Implement proper rendering optimization
    - Use proper lifecycle hooks
  - Error handling:
    - Implement proper error boundaries
    - Use proper error reporting
    - Handle async operations properly

## XML Views
glob: **/views/**/*.xml
description: Odoo 18 EE view development standards
rules:
  - View architecture:
    - Use proper inheritance (position attributes)
    - Define proper view_mode attributes
    - Use proper view priorities
    - Implement proper groups for access control
  - Form views:
    - Use proper field widgets
    - Group related fields
    - Use proper statusbar
    - Implement proper button states
    - Use attrs for dynamic behavior
  - List views:
    - Define proper tree attributes
    - Use proper column ordering
    - Implement proper grouping
    - Use proper decorations
  - Search views:
    - Define proper filters
    - Implement proper grouping
    - Use proper custom filters
  - Kanban views:
    - Use proper templates
    - Implement proper states
    - Use proper colors
    - Define proper quick_create
  - Calendar views:
    - Define proper date fields
    - Use proper colors
    - Implement proper event handling
  - Pivot views:
    - Define proper measures
    - Use proper grouping
    - Implement proper calculations

## Security Rules
glob: **/security/**/*.xml
description: Odoo 18 EE security implementation standards
rules:
  - Access rights:
    - Define proper model access rights
    - Implement proper record rules
    - Use proper groups
    - Define proper field access rights
  - Record rules:
    - Use proper domain filters
    - Implement multi-company rules
    - Define proper global rules
  - Group inheritance:
    - Use proper group categories
    - Implement proper implied_ids
    - Define proper group hierarchy

## Data Files
glob: **/data/**/*.xml
description: Odoo 18 EE data file standards
rules:
  - Data records:
    - Use proper XML IDs
    - Define proper noupdate flags
    - Implement proper dependencies
    - Use proper record references
  - Demo data:
    - Separate from production data
    - Use proper naming conventions
    - Implement proper test scenarios
  - Configuration data:
    - Use proper sequences
    - Define proper default values
    - Implement proper system parameters

## JavaScript QWeb Templates
glob: **/*.xml
description: Odoo 18 EE QWeb template standards
rules:
  - Template structure:
    - Use proper t-name attributes
    - Implement proper inheritance
    - Use proper widget references
  - Dynamic rendering:
    - Use proper t-esc for escaped output
    - Use proper t-raw for raw output
    - Implement proper conditions
    - Use proper loops
  - Widget integration:
    - Use proper widget instantiation
    - Implement proper event handling
    - Use proper data binding

## Python Controllers
glob: **/controllers/**/*.py
description: Odoo 18 EE controller development standards
rules:
  - Route definition:
    - Use proper decorators
    - Define proper auth methods
    - Implement proper CSRF protection
    - Use proper HTTP methods
  - Request handling:
    - Implement proper parameter validation
    - Use proper response types
    - Handle errors properly
    - Implement proper session management
  - Security:
    - Use proper access control
    - Implement proper input validation
    - Use proper error handling
    - Define proper content security

## Module Structure
glob: **/__manifest__.py
description: Odoo 18 EE module structure standards
rules:
  - Manifest content:
    - Define proper dependencies
    - Use proper version numbers
    - List all data files
    - Define proper category
    - List proper external dependencies
  - Module organization:
    - Follow standard directory structure
    - Use proper file naming
    - Implement proper init files
    - Define proper load order

## Testing
glob: **/tests/**/*.py
description: Odoo 18 EE testing standards
rules:
  - Test structure:
    - Use proper test classes
    - Implement proper setUp methods
    - Use proper test naming
    - Define proper test scenarios
  - Test coverage:
    - Test all business logic
    - Test edge cases
    - Implement proper data cleanup
    - Use proper assertions
  - Performance testing:
    - Test with large datasets
    - Implement proper benchmarks
    - Test concurrent access
  - Integration testing:
    - Test module interactions
    - Test workflow scenarios
    - Implement proper mocking
    - Test API endpoints